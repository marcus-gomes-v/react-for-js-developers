<html>

    <head>
        <style>
            .post-component {
                text-align: center;
                margin-top: 9px;
                border: 1px solid black;
                padding: 2em;
            }

            .post-header-component {
                display: flex;
                justify-content: center;
            }

            .user-name-description,
            .post-description-component {
                padding-left: 9px;
                padding-top: 9px;
            }
        </style>
    </head>

    <body>

        <div id="instagramPostApp"></div>

        <script src="https://unpkg.com/react@17/umd/react.development.js"></script>
        <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>
        <!-- Babel Script -->
        <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
        <script type="text/jsx">

           const instagramPostApp = document.getElementById("instagramPostApp")

           function AvatarImage() {
               return <img src="https://posts-decriptando.s3.amazonaws.com/post-instagram-component/256-512.webp" width="75" />
           }

           function Username({username}) {
               return <span><strong>{username ? username : 'Default Username'}</strong></span>
           }

           function UserDescription() {
               return <p><small>Lorem ipsum summet</small></p>
           }

           function PostImage() {
               return <img src="https://posts-decriptando.s3.amazonaws.com/post-instagram-component/istockphoto-1226328537-170667a.jpeg" />
           }

           function PostDescription() {
               return <span>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus...</span>
           }

           function PostComponent(props) {
              
               const [ likes, setLikes ] =  React.useState(0);
               
               function handleClick(){
                 setLikes( likes + 1 )
               }
                
               return (
                    <div class="post-component">
                        <div class="post-header-component">
                            <div class="user-avatar">
                                <AvatarImage />
                            </div >
                            <div class="user-name-description">
                                <Username username={props.username} />
                                <UserDescription />
                            </div >
                        </div >
                        <div class="post-body-component">
                            <PostImage />
                        </div >
                        <button onClick={handleClick}>❤️ ( {likes} ) </button> 
                        <div class="post-description-component">
                            <Username username={props.username} />: <PostDescription />
                        </div >
                    </div >
               )
 
            }
            
            function BodyComponent() {
               const aPosts = [
                   {
                       username: "José da Silva"
                   },
                   {
                       username: "Roberto Pereira"
                   },
                   {
                       username: "Manuel Martins"
                   }
               ]

               return (
                    <div className="body-component">
                        {
                            aPosts.map(oPost => (
                                <PostComponent key={oPost.username}  username={oPost.username} />  
                            ))
                        }
                    </div >
               )
            }

            ReactDOM.render(<BodyComponent/>, instagramPostApp)

        </script>

    </body>

</html>
